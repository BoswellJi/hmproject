{"version":3,"file":"js/359.70b28477.js","mappings":"8JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,KAAK,YAAY,KAAK,aAAa,IAAIC,GAAG,CAAC,aAAaL,EAAIM,eAAeJ,EAAG,MAAM,CAACK,YAAY,eAAe,CAACL,EAAG,MAAM,CAACK,YAAY,YAAY,CAACL,EAAG,eAAe,CAACE,MAAM,CAAC,WAAaJ,EAAIQ,WAAW,eAAe,KAAK,cAAa,EAAM,MAAQ,cAAc,GAAGN,EAAG,MAAM,CAACK,YAAY,OAAO,CAACL,EAAG,OAAO,CAACK,YAAY,gBAAgB,CAACP,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,gBAAgBX,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIY,KAAKC,QAAQ,SAASX,EAAG,YAAY,CAACY,IAAI,QAAQV,MAAM,CAAC,MAAO,EAAM,mBAAkB,IAAQJ,EAAIe,GAAIf,EAAIY,MAAM,SAASI,EAAKC,GAAO,OAAOf,EAAG,iBAAiB,CAACgB,IAAID,GAAO,CAACf,EAAG,KAAK,CAACK,YAAY,SAAS,CAACP,EAAIS,GAAGT,EAAIU,GAAGO,EAAQ,GAAG,IAAIjB,EAAIU,GAAGM,EAAKG,aAAajB,EAAG,KAAKF,EAAIe,GAAIC,EAAKI,QAAQ,SAASC,EAAWC,GAAa,OAAOpB,EAAG,KAAK,CAACgB,IAAII,EAAYC,MAAM,CAAEP,MAAM,EAAMQ,OAAQH,EAAWI,SAAUpB,GAAG,CAAC,MAAQ,SAASqB,GAAQ,OAAO1B,EAAI2B,aAAaN,EAAYL,EAAK,IAAI,CAAChB,EAAIS,GAAG,IAAIT,EAAIU,GAAGW,EAAWO,MAAM,MAAM,IAAG,IAAI,IAAG,GAAI5B,EAAIW,cAAgBX,EAAIY,KAAKC,OAAQX,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQ,UAAU,OAAQ,EAAK,KAAO,WAAWC,GAAG,CAAC,MAAQL,EAAI6B,SAAS,CAAC7B,EAAIS,GAAG,UAAUT,EAAI8B,MAAM,EAC9qC,EACIC,EAAkB,G,kBCiDtB,GACAC,OACA,OACApB,KAAAA,GAIA,EACAqB,SAAAA,CACAzB,aACA,kBAAAG,EAAAA,KAAAC,GAAA,KACA,oCACA,EACAD,cACA,WAAAC,GAAA,KACA,eACAsB,EAAAA,OAAAA,MAAAA,GAAAA,EAAAA,YACA,OACA,QACA,GAEAC,UACA,sBACA,EACAC,QAAAA,CACAC,kBACAC,EAAAA,GAAAA,IACAC,GAAAA,EAAAA,0CACAC,MAAAA,IACA,MACAR,MAAAA,KAAAS,EAAAA,KAAAT,IACA,EAEA,YACAA,EAAAA,SAAAA,IACAb,EAAAA,OAAAA,SAAAA,IACAuB,EAAAA,SAAAA,CAAAA,GACA,IAEA,YACA,IAEAC,OAAAA,IACAC,QAAAA,IAAAA,EAAAA,GAEA,EACAf,SACA,WAAAjB,GAAA,KACA,aACA,CACAiC,YAAAA,EAAAA,YACAC,QAAAA,EAAAA,OACAC,QAAAA,GAAAA,EAAAA,UACAC,KAAAA,IAAAA,CACAC,SAAAA,EAAAA,GACAC,kBAAAA,EAAAA,aAIA,kCACA,+BACA,EACA5C,cACA,mBACA,EACAqB,aAAAA,EAAAA,GACAX,EAAAA,OAAAA,SAAAA,IACAI,EAAAA,SAAAA,CAAAA,IAEAC,EAAAA,SAAAA,EAAAA,QACA,uBACA,IC1H8P,I,UCQ1P8B,GAAY,OACd,EACApD,EACAgC,GACA,EACA,KACA,WACA,MAIF,EAAeoB,EAAiB,O","sources":["webpack://hmproject/./src/views/Exam/index.vue","webpack://hmproject/src/views/Exam/index.vue","webpack://hmproject/./src/views/Exam/index.vue?d305","webpack://hmproject/./src/views/Exam/index.vue?7797"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"测试\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft}}),_c('div',{staticClass:\"exam-header\"},[_c('div',{staticClass:\"progress\"},[_c('van-progress',{attrs:{\"percentage\":_vm.percentage,\"stroke-width\":\"20\",\"show-pivot\":false,\"color\":\"#FF9900\"}})],1),_c('div',{staticClass:\"num\"},[_c('span',{staticClass:\"selected-num\"},[_vm._v(_vm._s(_vm.selectedNum))]),_vm._v(\"/\"+_vm._s(_vm.list.length)+\" \")])]),_c('van-swipe',{ref:\"swipe\",attrs:{\"loop\":false,\"show-indicators\":false}},_vm._l((_vm.list),function(item,index){return _c('van-swipe-item',{key:index},[_c('h3',{staticClass:\"title\"},[_vm._v(_vm._s(index + 1)+\".\"+_vm._s(item.question))]),_c('ul',_vm._l((item.answer),function(answerItem,answerIndex){return _c('li',{key:answerIndex,class:{ item: true, active: answerItem.checked },on:{\"click\":function($event){return _vm.selectAnswer(answerItem, item)}}},[_vm._v(\" \"+_vm._s(answerItem.desc)+\" \")])}),0)])}),1),(_vm.selectedNum === _vm.list.length)?_c('van-button',{attrs:{\"color\":\"#FF9900\",\"block\":true,\"type\":\"warning\"},on:{\"click\":_vm.submit}},[_vm._v(\"提交测试\")]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <van-nav-bar\r\n      title=\"测试\"\r\n      left-text=\"返回\"\r\n      left-arrow\r\n      @click-left=\"onClickLeft\"\r\n    />\r\n    <div class=\"exam-header\">\r\n      <div class=\"progress\">\r\n        <van-progress\r\n          :percentage=\"percentage\"\r\n          stroke-width=\"20\"\r\n          :show-pivot=\"false\"\r\n          color=\"#FF9900\"\r\n        />\r\n      </div>\r\n      <div class=\"num\">\r\n        <span class=\"selected-num\">{{ selectedNum }}</span\r\n        >/{{ list.length }}\r\n      </div>\r\n    </div>\r\n    <van-swipe :loop=\"false\" :show-indicators=\"false\" ref=\"swipe\">\r\n      <van-swipe-item v-for=\"(item, index) of list\" :key=\"index\">\r\n        <h3 class=\"title\">{{ index + 1 }}.{{ item.question }}</h3>\r\n        <ul>\r\n          <li\r\n            @click=\"selectAnswer(answerItem, item)\"\r\n            :class=\"{ item: true, active: answerItem.checked }\"\r\n            v-for=\"(answerItem, answerIndex) of item.answer\"\r\n            :key=\"answerIndex\"\r\n          >\r\n            {{ answerItem.desc }}\r\n          </li>\r\n        </ul>\r\n      </van-swipe-item>\r\n    </van-swipe>\r\n    <van-button\r\n      v-if=\"selectedNum === list.length\"\r\n      color=\"#FF9900\"\r\n      :block=\"true\"\r\n      type=\"warning\"\r\n      @click=\"submit\"\r\n      >提交测试</van-button\r\n    >\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { HOST } from '@/utils/constant';\r\nimport axios from 'axios';\r\nexport default {\r\n  data() {\r\n    return {\r\n      list: [\r\n       \r\n      ],\r\n    };\r\n  },\r\n  computed: {\r\n    percentage() {\r\n      const { selectedNum, list } = this;\r\n      return ((selectedNum / list.length) * 100 || 0).toFixed(0);\r\n    },\r\n    selectedNum() {\r\n      const { list } = this;\r\n      const selectedNum = list.filter((q) =>\r\n        q.answer.some((a) => a.checked)\r\n      ).length;\r\n      return selectedNum;\r\n    },\r\n  },\r\n  created() {\r\n    this.getQuestionList();\r\n  },\r\n  methods: {\r\n    getQuestionList() {\r\n      axios\r\n        .get(`${HOST}/api/subjectInfo/getAllSubjectMessage`)\r\n        .then((response) => {\r\n          const {\r\n            data: { code, data },\r\n          } = response;\r\n\r\n          if (code === '200') {\r\n            data.forEach((question) => {\r\n              question.answer.forEach((option) => {\r\n                option.checked = false;\r\n              });\r\n            });\r\n            this.list = data;\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    submit() {\r\n      const { list } = this;\r\n      const selected = list.map((q) => {\r\n        return {\r\n          subjectType: q.subjectType,\r\n          answers: q.answer\r\n            .filter((option) => option.checked)\r\n            .map((item) => ({\r\n              optionId: item.id,\r\n              optionDescription: item.desc,\r\n            })),\r\n        };\r\n      });\r\n      this.$store.commit('setAnwser', selected);\r\n      this.$router.replace('/result');\r\n    },\r\n    onClickLeft() {\r\n      this.$router.back();\r\n    },\r\n    selectAnswer(answerItem, item) {\r\n      item.answer.forEach((answer) => {\r\n        answer.checked = false;\r\n      });\r\n      answerItem.checked = !answerItem.checked;\r\n      this.$refs.swipe.next();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import './index.less';\r\n</style>\r\n>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=370c45b8&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=370c45b8&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"370c45b8\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","on","onClickLeft","staticClass","percentage","_v","_s","selectedNum","list","length","ref","_l","item","index","key","question","answer","answerItem","answerIndex","class","active","checked","$event","selectAnswer","desc","submit","_e","staticRenderFns","data","computed","q","created","methods","getQuestionList","axios","get","then","code","option","catch","console","subjectType","answers","filter","map","optionId","optionDescription","component"],"sourceRoot":""}